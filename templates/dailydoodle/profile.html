{% extends "dailydoodle/base.html" %}
{% load staticfiles %}
{% block title_block %}
Profile
{% endblock %}

{% block body_block %}
<section class="mt-8 flex flex-col items-center">
    <h1 class="text-6xl font-bold text-white">Profile</h1>

    <div class="w-1/2">
    <div>
        <!-- User profile will need to call update photo on click-->
        <img id="user-image" class="rounded-lg h-28 w-32 hover:opacity-80 hover:cursor-pointer" src = {{MEDIA_URL}}{{ user_profile_picture }} alt="Profile picture"  />
        <form method="POST" enctype="multipart/form-data" action=".">
            {% csrf_token %}
            <input name="picture" class="hidden" type="file" id="pic-changer" accept="image/jpeg"/>
            <input type="submit" id="submit" value="change_pic" />
        </form>
        <div>
        {{ username }} 
        {{ email }} 
        </div>
       
    </div>
    <div>
        <form id = "change_username" method="post" name="username_change" action="." class="flex flex-col justify-evenly h-full items-center">
            {% csrf_token %}
            <div><!--For changing username-->
                <h4>Change Username</h4>
                <br />
                <input type="text"  name="username_change" autofocus="" required="" id="id_username" maxlength="30" minlength="1" class="w-full rounded-lg bg-extra_blue p-1">
                <br />
                <input type="submit"  class="bg-secondary_contrast rounded-lg py-2 px-4 w-3/4 text-white">
                <br />
            </div>
        </form>
        <form id = "change_password" method="post" action="." class="flex flex-col justify-evenly h-full items-center">
            {% csrf_token %}
            <div><!--For changing password-->
                <br />
                <h4>Change Password</h4>
                <br />
                <input type="password" name="password_change" autofocus="" required="" id="id_password" maxlength="30" minlength="1" class="w-full rounded-lg bg-extra_blue p-1">
                <br />
                <input type="submit" value="update_password" class="bg-secondary_contrast rounded-lg py-2 px-4 w-3/4 text-white">
                <br />
            </div>
        </form>
        
        <form method="post" action="." class="flex">
            {% csrf_token %}
            <input type="submit" name="delete_account" value="delete_account" />
        </form>
    </div>
    </div>
</section>
{% endblock %}

{% block script_block %}
<script src="{% static "js/profile.js" %}">
</script>
{% endblock %}